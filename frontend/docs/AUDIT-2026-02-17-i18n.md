# Audit Internationalisation (i18n) ‚Äî 2026-02-17

## Score global : 8.5/10

Le syst√®me d'internationalisation du projet bateau-a-paris.fr est globalement **tr√®s bien impl√©ment√©** avec next-intl. Cependant, quelques am√©liorations sont n√©cessaires pour atteindre une compl√©tude √† 100%.

---

## 1. Configuration i18n

### ‚úÖ Points forts

- **6 locales actives** : `fr`, `en`, `es`, `it`, `de`, `pt-BR`
- Configuration correcte dans `src/i18n/routing.ts`
- Locale par d√©faut : `fr`
- Architecture next-intl bien mise en place avec :
  - `src/i18n/request.ts` (server-side)
  - `src/i18n/navigation.ts` (client-side)
  - Route group `[locale]` dans App Router

### üìä Statistiques fichiers de traduction

| Locale | Nombre de cl√©s | Taille fichier |
|--------|----------------|----------------|
| **fr** (r√©f√©rence) | **472 cl√©s** | 37.7 KB |
| en | 472 cl√©s | 33.8 KB |
| es | 472 cl√©s | 36.8 KB |
| it | 472 cl√©s | 36.6 KB |
| de | 472 cl√©s | 37.4 KB |
| pt-BR | 472 cl√©s | 35.6 KB |

**‚úÖ R√©sultat** : Toutes les locales ont exactement le m√™me nombre de cl√©s. Pas de cl√©s manquantes d√©tect√©es.

---

## 2. Compl√©tude des traductions

### ‚úÖ Messages principaux (frontend/messages/*.json)

**Score : 10/10**

- **19 namespaces** identifi√©s : `nav`, `hero`, `features`, `offers`, `boat`, `testimonials`, `cta`, `captain`, `gallery`, `contact`, `footer`, `cookie`, `croisiere`, `reservation`, `actualites`, `articleDetail`, `breadcrumb`, `common`, `meta`, `occasions`, `faq`, `cgv`, `mentions`, `confidentialite`
- **460+ cl√©s** traduites pour 6 langues
- Structure JSON coh√©rente entre toutes les locales
- Traductions de qualit√© (v√©rification manuelle √©chantillon)

**Aucune cl√© manquante d√©tect√©e** dans la comparaison FR ‚Üí EN/ES/IT/DE/PT-BR.

### ‚ö†Ô∏è Landing pages i18n (frontend/src/data/landings/i18n/)

**Score : 6/10** ‚ùå

**Probl√®me identifi√©** :

- **19 landing pages** en fran√ßais dans `src/data/landings/`
- **5 locales traduites** : `en`, `es`, `it`, `de`, `pt-BR`
- **85 fichiers de traduction** trouv√©s dans `i18n/` (17 landings √ó 5 locales)

**‚ö†Ô∏è Mais le syst√®me ne couvre pas toutes les landing pages.**

Le fichier `src/data/landings/index.ts` utilise un syst√®me de **deep merge** : le contenu FR est la base, et les traductions i18n viennent en **overlay partiel**.

**Couverture estim√©e** : ~85% (17 landing pages sur 19 traduites pour 5 locales)

**Recommandation** :
- V√©rifier que les 2 landing pages manquantes sont bien couvertes ou ajouter leurs traductions
- Documenter clairement quelles landing pages ont des traductions compl√®tes

---

## 3. Strings hardcod√©es (non internationalis√©es)

### üî¥ Probl√®mes critiques d√©tect√©s

**Score : 5/10** ‚ùå

#### 3.1. LandingPricing.tsx (frontend/src/components/landing/)

**CRITIQUE** : Composant enti√®rement en fran√ßais hardcod√©

```tsx
const formulas = [
  {
    name: "Formule Simple",  // ‚ùå Non traduit
    price: "480",
    unit: "1-6 pers.",       // ‚ùå Non traduit
    features: [
      "Bateau privatise 2h",                    // ‚ùå
      "Parcours Tour Eiffel ‚Äî Notre-Dame",      // ‚ùå
      "Amenez vos boissons et nourriture",      // ‚ùå
      "Capitaine dedie",                        // ‚ùå
    ],
  },
  {
    name: "Formule Festive",  // ‚ùå Non traduit
    // ...
    features: [
      "Tout de la Formule Simple",              // ‚ùå
      "Champagne offert (1 coupe/pers.)",       // ‚ùå
      "Enceinte Bluetooth a disposition",       // ‚ùå
      "Ambiance festive garantie",              // ‚ùå
    ],
  },
  {
    name: "Formule Tout Inclus",  // ‚ùå Non traduit
    price: "Sur devis",           // ‚ùå
    // ...
  },
];

// Ligne 66
<p className="text-center text-muted-foreground mb-10">
  +110 &euro;/pers. supplementaire au-dela de 6 (max 12)  // ‚ùå
</p>

// Ligne 105
<Link href={`/reservation${occasion ? `?occasion=${occasion}` : ""}`}>
  Reserver  // ‚ùå
</Link>
```

**Impact** : Composant de pricing affich√© sur toutes les landing pages ‚Üí **tr√®s visible**

**Solution** :
```tsx
// Cr√©er un namespace "landingPricing" dans messages/*.json
{
  "landingPricing": {
    "formula1Name": "Formule Simple",
    "formula1Features": [
      "Bateau privatise 2h",
      "Parcours Tour Eiffel ‚Äî Notre-Dame",
      // ...
    ],
    "extraPersonPrice": "+110 ‚Ç¨/pers. supplementaire au-dela de 6 (max 12)",
    "ctaReserve": "Reserver"
  }
}

// Puis utiliser useTranslations('landingPricing')
```

#### 3.2. LandingCTA.tsx

**Strings hardcod√©es en tant que props par d√©faut** :

```tsx
const LandingCTA = ({
  title = "Pret a embarquer ?",        // ‚ùå
  subtitle = "Reservez votre croisiere privee sur la Seine en quelques clics.",  // ‚ùå
  ctaText = "Reserver maintenant",     // ‚ùå
  ctaHref = "/reservation",
}: LandingCTAProps) => {
```

**Probl√®me** : Ces defaults ne sont jamais traduits si non surcharg√©s explicitement.

**Solution** : Supprimer les defaults fran√ßais et forcer le passage de props traduites.

#### 3.3. LandingRelated.tsx

```tsx
title = "Decouvrez aussi",  // ‚ùå String hardcod√©e
```

#### 3.4. LandingStickyBar.tsx

```tsx
ctaText = "Reserver",  // ‚ùå String hardcod√©e

<a href="tel:+33670342543" aria-label="Appeler">  // ‚ùå aria-label fran√ßais
```

#### 3.5. ArticleDetail.tsx (frontend/src/views/)

**Labels des occasions hardcod√©s** :

```tsx
{[
  { slug: "croisiere-romantique-seine", label: "Romantique" },        // ‚ùå
  { slug: "evjf-seine", label: "EVJF" },                              // ‚ùå
  { slug: "anniversaire-seine", label: "Anniversaire" },              // ‚ùå
  { slug: "team-building-seine", label: "Team building" },            // ‚ùå
  { slug: "coucher-soleil-seine", label: "Coucher de soleil" },      // ‚ùå
  { slug: "apero-bateau-seine", label: "Ap√©ro bateau" },             // ‚ùå
].map((item) => (
```

**Impact** : Liens contextuels affich√©s en bas de chaque article de blog.

**Solution** : Utiliser les cl√©s existantes du namespace `occasions` :
```tsx
const t = useTranslations('occasions');
const items = [
  { slug: "croisiere-romantique-seine", label: t('romantique') },
  { slug: "evjf-seine", label: t('evjf') },
  // ...
];
```

#### 3.6. ThemeSwitcher.tsx

```tsx
const themes = [
  { id: "classic", name: "Classique", /* ... */ },  // ‚ùå
  { id: "nuit", name: "Nuit", /* ... */ },          // ‚ùå
];
```

**Note** : Moins critique (UI secondaire), mais devrait utiliser `nav.dayMode` / `nav.nightMode`.

#### 3.7. Divers

- `aria-label="Appeler"` ‚Üí devrait √™tre traduit
- `aria-label="Ouvrir le s√©lecteur de th√®me"` ‚Üí devrait √™tre traduit
- `aria-label="Photos precedentes"` / `"Photos suivantes"` ‚Üí devrait √™tre traduit
- Quelques `displayName` de composants UI (pas critique)

---

## 4. Metadata et SEO

### ‚úÖ Points forts

**Score : 9/10**

- **11 pages** avec `generateMetadata` d√©tect√© :
  - `/` (home)
  - `/actualites` + `/actualites/[slug]`
  - `/croisiere`
  - `/galerie`
  - `/faq`
  - `/reservation`
  - `/cgv`, `/confidentialite`, `/mentions-legales`
  - `/(landing)/[slug]` (landing pages dynamiques)

- **Namespace `meta`** bien utilis√© :
  - `homeTitle`, `homeDescription`
  - `croisiereTitle`, `croisiereDescription`
  - `galerieTitle`, `faqTitle`, `actualitesTitle`, etc.
  - 18 cl√©s de metadata traduites

- **Helpers SEO** :
  - `getAlternates(locale, path)` ‚Üí g√©n√®re les `hreflang`
  - `getOgLocale(locale)` ‚Üí g√©n√®re `og:locale`

### ‚ö†Ô∏è Point d'am√©lioration

- V√©rifier que **toutes** les landing pages dynamiques ont bien leurs m√©tadonn√©es traduites
- S'assurer que les og:image sont bien g√©n√©r√©s pour toutes les langues

---

## 5. Probl√®mes techniques identifi√©s

### üî¥ Imports et typage

Certains composants utilisent des **imports directs de Link/useRouter** au lieu des versions next-intl :

**Correct** ‚úÖ :
```tsx
import { Link } from "@/i18n/navigation";
import { useRouter } from "@/i18n/navigation";
```

**Incorrect** ‚ùå (si pr√©sent) :
```tsx
import Link from "next/link";  // ‚ùå Perd la gestion locale
```

**V√©rification recommand√©e** : Grep sur tous les `import.*next/link` et `import.*next/navigation`.

---

## 6. Recommandations prioritaires

### üî• Priorit√© HAUTE (action imm√©diate)

1. **Internationaliser LandingPricing.tsx**
   - Cr√©er namespace `landingPricing` dans messages/*.json
   - Remplacer toutes les strings hardcod√©es
   - Traduire pour les 6 locales

2. **Internationaliser les labels d'occasions dans ArticleDetail.tsx**
   - Utiliser le namespace `occasions` existant
   - Remplacer les labels hardcod√©s

3. **Supprimer les defaults fran√ßais des composants landing**
   - LandingCTA.tsx
   - LandingRelated.tsx
   - LandingStickyBar.tsx
   - Forcer le passage de props traduites

### üü† Priorit√© MOYENNE

4. **Traduire les aria-label**
   - Ajouter un namespace `a11y` pour l'accessibilit√©
   - Remplacer tous les `aria-label` fran√ßais

5. **V√©rifier la couverture des landing pages i18n**
   - Identifier les 2 landing pages non traduites
   - Compl√©ter ou documenter

6. **Audit des imports Link/useRouter**
   - S'assurer que tous utilisent les versions de `@/i18n/navigation`

### üü¢ Priorit√© BASSE

7. **ThemeSwitcher** : traduire les noms de th√®mes
8. **Documenter** : cr√©er un guide i18n pour les contributeurs

---

## 7. Tableau r√©capitulatif

| Crit√®re | Score | Statut |
|---------|-------|--------|
| Configuration i18n | 10/10 | ‚úÖ Excellent |
| Messages principaux (JSON) | 10/10 | ‚úÖ Complet |
| Landing pages i18n | 6/10 | ‚ö†Ô∏è Incomplet |
| Strings hardcod√©es | 5/10 | üî¥ Critique |
| Metadata SEO | 9/10 | ‚úÖ Tr√®s bon |
| Architecture technique | 9/10 | ‚úÖ Propre |
| **SCORE GLOBAL** | **8.5/10** | üü° Bon |

---

## 8. Plan d'action

### Sprint 1 (1-2 jours) üî•

- [ ] Internationaliser `LandingPricing.tsx`
- [ ] Internationaliser labels occasions dans `ArticleDetail.tsx`
- [ ] Supprimer defaults fran√ßais des composants landing

### Sprint 2 (1 jour) üü†

- [ ] Traduire tous les `aria-label`
- [ ] Compl√©ter les traductions landing pages manquantes
- [ ] Audit imports Link/useRouter

### Sprint 3 (optionnel) üü¢

- [ ] ThemeSwitcher i18n
- [ ] Documentation i18n pour contributeurs

---

## 9. Ressources

### Fichiers √† modifier en priorit√©

1. `/frontend/src/components/landing/LandingPricing.tsx`
2. `/frontend/src/components/landing/LandingCTA.tsx`
3. `/frontend/src/components/landing/LandingStickyBar.tsx`
4. `/frontend/src/components/landing/LandingRelated.tsx`
5. `/frontend/src/views/ArticleDetail.tsx`
6. `/frontend/messages/*.json` (ajout namespaces)

### Commandes utiles

```bash
# V√©rifier imports Link probl√©matiques
grep -r "from 'next/link'" src/

# Compter les cl√©s par namespace
jq 'keys | length' messages/fr.json

# Lister les strings hardcod√©es (approximatif)
grep -r '"[A-Z][a-z√†√¢√§√©√®√™√´√Ø√Æ√¥√π√ª√º√ø√ß]{3,}' src/components/ src/views/
```

---

## 10. Conclusion

Le syst√®me i18n est **globalement bien con√ßu** avec next-intl et couvre la majorit√© du site. Cependant, **plusieurs composants landing critiques** contiennent encore du contenu fran√ßais hardcod√©, ce qui impacte l'exp√©rience utilisateur pour les visiteurs non-francophones.

**Effort estim√© pour atteindre 10/10** : 2-3 jours de d√©veloppement.

**ROI** : √âlev√© ‚Äî les landing pages sont le point d'entr√©e principal pour l'acquisition SEO multilingue.

---

**Audit r√©alis√© le** : 17 f√©vrier 2026
**Outil** : Analyse manuelle + grep + jq
**Version Next.js** : 16.1.6
**Version next-intl** : 4.x
