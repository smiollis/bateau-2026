# Audit Internationalisation (i18n) - bateau-a-paris.fr

**Date** : 2026-02-14
**Auditeur** : Claude Opus 4.6
**Projet** : Un Bateau a Paris - Frontend Next.js 16
**Stack i18n** : next-intl 4 + App Router

---

## Score global : 6/10

---

## Tableau recapitulatif

| Categorie | Statut | Score | Details |
|---|---|---|---|
| Configuration next-intl | OK | 10/10 | Routing, middleware, navigation corrects |
| Messages (cles/namespaces) | OK | 10/10 | 228 cles, 19 namespaces, 6 langues, 0 cle manquante |
| Couverture i18n (textes en dur) | Critique | 2/10 | 5+ vues avec contenu 100% hardcode FR |
| Blog bilingue | Partiel | 5/10 | FR/EN ok, 4 langues sans articles, slugs FR partout |
| Metadata (generateMetadata) | Bon | 8/10 | Pages principales ok, landing pages sans traduction |
| Routes multilingues | OK | 9/10 | Middleware + alternates ok, pas de localized pathnames |
| Landing pages i18n | Critique | 1/10 | 17 pages 100% francais hardcode, aucune traduction |
| Formatage date/nombre | Partiel | 4/10 | formatDate ne gere que FR/EN, pas les 4 nouvelles langues |
| RTL | Non prevu | N/A | Non applicable actuellement (aucune langue RTL configuree) |

---

## 1. Configuration next-intl (10/10)

### Fichiers analyses

- `/work/projects/MICHEL/bateau-2026/frontend/src/i18n/routing.ts`
- `/work/projects/MICHEL/bateau-2026/frontend/src/i18n/request.ts`
- `/work/projects/MICHEL/bateau-2026/frontend/src/i18n/navigation.ts`
- `/work/projects/MICHEL/bateau-2026/frontend/src/middleware.ts`
- `/work/projects/MICHEL/bateau-2026/frontend/src/app/[locale]/layout.tsx`

### Constats

**routing.ts** : Configuration correcte avec 6 locales definies (`fr`, `en`, `es`, `it`, `de`, `pt-BR`) et `fr` comme defaultLocale.

```typescript
export const locales = ["fr", "en", "es", "it", "de", "pt-BR"] as const;
export type Locale = (typeof locales)[number];
```

**request.ts** : Chargement dynamique des messages avec fallback sur la locale par defaut. Import via `../../messages/${locale}.json`. Correct.

**navigation.ts** : Utilise `createNavigation(routing)` pour exporter `Link`, `redirect`, `usePathname`, `useRouter`, `getPathname`. Correct.

**middleware.ts** : Utilise `createMiddleware(routing)` avec un matcher qui exclut `api`, `_next`, `images` et fichiers statiques. Correct.

**Layout** : `NextIntlClientProvider` enveloppe les enfants avec les messages charges cote serveur. Le `html` tag utilise `lang={locale}` dynamiquement. Correct.

### Points positifs
- Architecture i18n propre et standard
- Type safety avec `as const` sur les locales
- Middleware next-intl correctement configure
- Messages charges cote serveur (performance)

---

## 2. Messages - Fichiers de traduction (10/10)

### Fichiers analyses

- `/work/projects/MICHEL/bateau-2026/frontend/messages/fr.json`
- `/work/projects/MICHEL/bateau-2026/frontend/messages/en.json`
- `/work/projects/MICHEL/bateau-2026/frontend/messages/es.json`
- `/work/projects/MICHEL/bateau-2026/frontend/messages/it.json`
- `/work/projects/MICHEL/bateau-2026/frontend/messages/de.json`
- `/work/projects/MICHEL/bateau-2026/frontend/messages/pt-BR.json`

### Statistiques

| Langue | Cles | Namespaces | Cles manquantes |
|---|---|---|---|
| fr | 228 | 19 | - (reference) |
| en | 228 | 19 | 0 |
| es | 228 | 19 | 0 |
| it | 228 | 19 | 0 |
| de | 228 | 19 | 0 |
| pt-BR | 228 | 19 | 0 |

### 19 namespaces

`nav`, `hero`, `features`, `offers`, `boat`, `testimonials`, `cta`, `captain`, `gallery`, `contact`, `footer`, `cookie`, `croisiere`, `reservation`, `actualites`, `articleDetail`, `common`, `meta`, `occasions`

### Constats

- Parite parfaite : 228 cles dans les 6 langues, 0 cle manquante
- Interpolation correcte (`{price}`, `{year}`, `{rating}`, `{count}`, `{index}`, `{category}`)
- Qualite des traductions : les 4 nouvelles langues (ES, IT, DE, PT-BR) semblent etre des traductions professionnelles/soignees
- Namespace `meta` present pour les metadonnees SEO dans toutes les langues

### Point d'attention PT-BR

Le fichier `pt-BR.json` ne contient pas de caracteres accentues portugais (accents, cedilles, tildes). Par exemple :
- `"mainNav": "Navegacao principal"` au lieu de `"Navegacao principal"` (pas de tilde sur le `a`)
- `"subtitle": "Embarque em uma experiencia unica..."` manque les accents

Cela indique probablement un probleme d'encodage ou une generation sans accents. Les textes seront affiches sans les accents portugais corrects.

---

## 3. Couverture i18n - Textes en dur (2/10)

### PROBLEME CRITIQUE

Plusieurs vues et composants contiennent du contenu integralement en francais hardcode, non traduit via next-intl. C'est le probleme i18n le plus important du projet.

### Vues 100% hardcodees en francais

#### `src/views/FAQ.tsx`
- **10 questions/reponses** entierement en francais dans un tableau `faqItems` hardcode
- Titres de page hardcodes : `"Foire Aux Questions"`, `"Bienvenue dans notre section FAQ..."`
- Lien "Retour a l'accueil" hardcode
- Le JSON-LD dans `src/app/[locale]/faq/page.tsx` est egalement 100% francais

#### `src/views/CGV.tsx`
- **Page entiere** hardcodee en francais (conditions generales de vente)
- Titre, sous-titres, paragraphes, listes : tout est en francais
- "Retour a l'accueil" hardcode

#### `src/views/MentionsLegales.tsx`
- **Page entiere** hardcodee en francais (mentions legales)
- Informations legales, descriptions de services, propriete intellectuelle
- "Retour a l'accueil" hardcode

#### `src/views/Confidentialite.tsx`
- **Page entiere** hardcodee en francais (politique de confidentialite)
- Donnees collectees, finalites, droits RGPD
- "Retour a l'accueil" hardcode

#### `src/views/Croisiere.tsx`
- **Landmarks** (9 monuments) : noms et descriptions hardcodes en francais
- **Itineraire** (9 etapes) : temps, labels et details hardcodes en francais
- Exemples : `"Statue de la Liberte"`, `"Le monument le plus emblematique de Paris..."`
- Alt text de la carte en francais
- Note : les titres de section utilisent correctement `useTranslations("croisiere")`

#### `src/views/NotFound.tsx`
- Texte en anglais hardcode : `"Oops! Page not found"`, `"Return to Home"`
- N'utilise pas next-intl du tout (utilise `next/link` au lieu de `@/i18n/navigation`)

### Composants avec textes en dur partiels

#### `src/app/[locale]/(landing)/[slug]/page.tsx`
- Breadcrumb JSON-LD : `"Accueil"`, `"Croisieres"` hardcodes en francais (lignes 91-92)
- Breadcrumb composant : `{ name: "Croisieres", href: "/croisiere" }` hardcode (ligne 82)

#### `src/app/layout.tsx`
- Metadata par defaut en francais : `"Un Bateau a Paris | Croisieres Privees sur la Seine"`
- Description par defaut en francais
- JSON-LD `LocalBusiness` : description en francais `"Croisieres privees sur la Seine a Paris"`

### Resume de l'impact

| Vue/Composant | Textes hardcodes | Impact utilisateur |
|---|---|---|
| FAQ.tsx | ~40 phrases | Page FAQ en francais pour ES/IT/DE/PT-BR |
| CGV.tsx | ~30 paragraphes | CGV en francais pour toutes les langues |
| MentionsLegales.tsx | ~15 paragraphes | Mentions legales en francais partout |
| Confidentialite.tsx | ~20 paragraphes | Politique confidentialite FR partout |
| Croisiere.tsx | 18 textes (landmarks + itineraire) | Carte et itineraire en francais partout |
| NotFound.tsx | 3 textes anglais | Page 404 en anglais pour FR/ES/IT/DE/PT-BR |
| Landing page.tsx | 3 breadcrumbs | Breadcrumbs en francais partout |
| layout.tsx | 3 textes metadata | SEO fallback en francais |

---

## 4. Blog bilingue (5/10)

### Fichiers analyses

- `/work/projects/MICHEL/bateau-2026/frontend/src/data/posts.json` (31 articles FR)
- `/work/projects/MICHEL/bateau-2026/frontend/src/data/posts-en.json` (31 articles EN)

### Constats positifs

- **Parite FR/EN** : 31 articles dans chaque fichier
- **Slugs identiques** : parfaite correspondance entre FR et EN (meme slug pour le meme article)
- **IDs identiques** : correspondance 1:1
- **Contenu traduit** : titres, excerpts, contenus HTML et categories traduits
- Chargement conditionnel correct dans `Actualites.tsx` et `ArticleDetail.tsx` :
  ```typescript
  const allPosts = locale === "en" ? postsEn : postsFr;
  ```

### Problemes

1. **4 langues sans articles** : ES, IT, DE, PT-BR n'ont pas de fichier `posts-{lang}.json`. Le code `locale === "en" ? postsEn : postsFr` renvoie les articles FR pour ces 4 langues. Les utilisateurs ES/IT/DE/PT-BR verront du contenu blog entierement en francais.

2. **Slugs en francais** : Les slugs sont identiques FR/EN et sont tous en francais (`croisiere-a-paris-2pers-6pers`, `pont-notre-dame`). Pour le SEO en anglais, des slugs traduits seraient preferable (`cruise-in-paris-2to6-people`).

3. **Categories non standardisees** : Les categories sont des strings libres, pas des cles i18n. FR : `"Decouverte"`, `"Actualites Un Bateau a Paris"`. EN : `"Discovery"`, `"Un Bateau a Paris News"`. Cela rend le filtrage par categorie dependant de la langue.

4. **generateStaticParams FR only** : Dans `src/app/[locale]/actualites/[slug]/page.tsx`, `generateStaticParams` utilise `postsFr` uniquement. Cela fonctionne car les slugs sont identiques, mais c'est fragile.

---

## 5. Metadata et SEO multilingue (8/10)

### Fichiers analyses

Toutes les pages dans `src/app/[locale]/*/page.tsx` (11 fichiers)

### Constats positifs

- **10 pages principales** utilisent `getTranslations({ locale, namespace: "meta" })` pour titre et description
- **`getAlternates(locale, path)`** utilise sur toutes les pages, genere canonical + hreflang pour les 6 locales + x-default
- **`getOgLocale(locale)`** utilise sur toutes les pages, mappe correctement les 6 locales (`fr_FR`, `en_US`, `es_ES`, `it_IT`, `de_DE`, `pt_BR`)
- Le namespace `meta` contient 18 cles (9 titres + 9 descriptions) dans les 6 langues

### Pages avec metadata traduit

| Page | Title traduit | Description traduite | Alternates | og:locale |
|---|---|---|---|---|
| / (accueil) | Oui | Oui | Oui | Oui |
| /croisiere | Oui | Oui | Oui | Oui |
| /galerie | Oui | Oui | Oui | Oui |
| /faq | Oui | Oui | Oui | Oui |
| /actualites | Oui | Oui | Oui | Oui |
| /reservation | Oui | Oui | Oui | Oui |
| /cgv | Oui | Oui | Oui | Oui |
| /mentions-legales | Oui | Oui | Oui | Oui |
| /confidentialite | Oui | Oui | Oui | Oui |
| /actualites/[slug] | Oui (depuis JSON) | Oui (depuis JSON) | Oui | Oui |

### Problemes

1. **Landing pages** (`/[slug]`) : Les metadata (title, description) viennent du fichier de data TypeScript hardcode en francais. Pas de traduction.

2. **Metadata par defaut** (`src/app/layout.tsx` ligne 28-32) : Le titre et la description par defaut du site sont en francais. Si une page n'a pas de `generateMetadata`, le fallback sera en francais pour toutes les langues.

3. **JSON-LD non traduit** :
   - `LocalBusiness` (layout.tsx) : description en francais
   - `FAQPage` (faq/page.tsx) : 10 Q&A en francais
   - Breadcrumbs landing pages : `"Accueil"`, `"Croisieres"` en francais

---

## 6. Routes multilingues (9/10)

### Constats positifs

- **Toutes les pages accessibles en 6 langues** : Le middleware next-intl gere le routage `/{locale}/...` pour les 6 locales
- **Sitemap multilingue** (`src/app/sitemap.ts`) : Genere les URLs pour toutes les locales (pages statiques, articles, landing pages)
- **`<Link>` de next-intl** utilise dans la majorite des composants (import depuis `@/i18n/navigation`)
- **hreflang** genere pour les 6 locales + x-default sur toutes les pages

### Problemes

1. **Pas de localized pathnames** : Les routes sont identiques dans toutes les langues (`/en/croisiere`, `/de/croisiere`, `/es/croisiere`). Pour le SEO, il serait preferable d'avoir `/en/cruise`, `/de/rundfahrt`, `/es/crucero`. next-intl supporte les `pathnames` dans la configuration de routing.

2. **NotFound.tsx** : Utilise `next/link` au lieu de `@/i18n/navigation` Link, ce qui peut causer des problemes de prefixe de locale.

---

## 7. Landing pages multilingues (1/10)

### Fichiers analyses

- `/work/projects/MICHEL/bateau-2026/frontend/src/data/landings/types.ts`
- `/work/projects/MICHEL/bateau-2026/frontend/src/data/landings/index.ts`
- `/work/projects/MICHEL/bateau-2026/frontend/src/data/landings/evjf-seine.ts` (exemple representatif)
- 17 fichiers de data au total

### PROBLEME CRITIQUE

Les 17 landing pages sont **integralement en francais**. L'architecture `LandingPageData` ne prevoit aucun mecanisme de traduction :

```typescript
export interface LandingPageData {
  slug: string;           // FR: "evjf-seine"
  meta: {
    title: string;        // FR: "EVJF sur la Seine..."
    description: string;  // FR: "Organisez un enterrement..."
  };
  hero: {
    title: string;        // FR: "Enterrement de vie de jeune fille..."
    subtitle: string;     // FR: "Offrez a la future mariee..."
    cta: { text: string; href: string }; // FR: "Reserver votre EVJF"
  };
  sections: LandingSection[]; // Tout en FR
}
```

### Impact

- **17 pages** x **6 langues** = 102 URLs dans le sitemap
- Les 85 URLs non-FR (EN, ES, IT, DE, PT-BR) affichent du contenu 100% francais
- Les metadata (title, description) sont en francais pour toutes les langues
- Les JSON-LD (TouristAttraction, FAQ, Breadcrumb) sont en francais pour toutes les langues
- Le contenu richtext HTML est en francais

### 17 landing pages concernees

1. evjf-seine
2. evg-seine
3. croisiere-romantique-seine
4. demande-en-mariage-seine
5. anniversaire-seine
6. soiree-entre-amis-seine
7. anniversaire-mariage-seine
8. team-building-seine
9. croisiere-famille-seine
10. shooting-photo-seine
11. coucher-soleil-seine
12. apero-bateau-seine
13. saint-valentin-seine
14. nouvel-an-seine
15. noel-seine
16. fete-des-meres-seine
17. seminaire-seine

### Architecture recommandee

Option A - Fichiers par langue :
```
src/data/landings/
  fr/evjf-seine.ts
  en/hen-party-seine.ts
  es/despedida-soltera-seine.ts
```

Option B - Cles i18n dans les fichiers messages :
```json
// messages/en.json
{
  "landing.evjf-seine.hero.title": "Hen Party on the Seine"
}
```

Option C - Structure multilingue dans le type :
```typescript
export interface LandingPageData {
  slug: Record<Locale, string>;
  meta: Record<Locale, { title: string; description: string }>;
  // ...
}
```

---

## 8. Formatage des dates et nombres (4/10)

### Fichiers analyses

- `/work/projects/MICHEL/bateau-2026/frontend/src/views/Actualites.tsx` (ligne 17-22)
- `/work/projects/MICHEL/bateau-2026/frontend/src/views/ArticleDetail.tsx` (ligne 16-21)

### Constats

La fonction `formatDate` est definie de maniere identique dans les deux fichiers :

```typescript
function formatDate(iso: string, locale: string): string {
  return new Date(iso).toLocaleDateString(locale === "fr" ? "fr-FR" : "en-US", {
    day: "numeric",
    month: "long",
    year: "numeric",
  });
}
```

### Problemes

1. **Ternaire binaire FR/EN** : La condition `locale === "fr" ? "fr-FR" : "en-US"` ne gere que 2 langues. Les utilisateurs ES, IT, DE, PT-BR verront les dates en anglais americain (`"January 15, 2024"`) au lieu de leur langue (`"15 de enero de 2024"`, `"15. Januar 2024"`, etc.).

2. **Code duplique** : La meme fonction est definie dans deux fichiers differents.

3. **Pas d'utilisation de next-intl formatter** : next-intl fournit `useFormatter()` qui gere automatiquement le formatage selon la locale active, sans besoin de mapping manuel.

4. **Pas de formatage de nombres** : Les prix (`420`, `100`) sont affiches en dur. Le formatage monetaire (separateur decimal, symbole de devise) n'utilise pas `Intl.NumberFormat`.

### Correction recommandee

```typescript
// Utiliser useFormatter() de next-intl
const format = useFormatter();
const formattedDate = format.dateTime(new Date(iso), {
  day: "numeric",
  month: "long",
  year: "numeric",
});

// Ou un mapping complet des locales
const localeMap: Record<string, string> = {
  fr: "fr-FR", en: "en-US", es: "es-ES",
  it: "it-IT", de: "de-DE", "pt-BR": "pt-BR",
};
```

---

## 9. Support RTL (N/A)

Aucune langue RTL (arabe, hebreu, persan) n'est configuree dans le projet. Le support RTL n'est pas necessaire actuellement.

### Remarques pour le futur

- L'attribut `dir` n'est pas defini sur le tag `<html>` (pas de gestion dynamique LTR/RTL)
- Le CSS utilise Tailwind CSS v4 qui supporte les utilitaires logiques (`start`/`end` au lieu de `left`/`right`), mais le code utilise encore majoritairement `left`/`right`
- Si une langue RTL est ajoutee, il faudra :
  1. Ajouter `dir={isRTL ? "rtl" : "ltr"}` sur `<html>`
  2. Migrer les classes CSS vers les utilitaires logiques Tailwind
  3. Adapter les animations Framer Motion

---

## Recommandations prioritaires

### Priorite 1 - CRITIQUE (impact utilisateur immediat)

1. **Traduire les landing pages** : Implementer un systeme de traduction pour les 17 landing pages. C'est le plus gros chantier (17 pages x 5 langues = 85 traductions).

2. **Traduire les pages legales** (FAQ, CGV, Mentions, Confidentialite) : Soit via fichiers messages next-intl, soit via des fichiers markdown par langue.

3. **Corriger le formatage des dates** : Remplacer le ternaire `fr/en` par un mapping complet des 6 locales ou utiliser `useFormatter()` de next-intl.

4. **Corriger les accents PT-BR** : Verifier et corriger le fichier `messages/pt-BR.json` pour inclure les accents et caracteres speciaux du portugais bresilien.

### Priorite 2 - IMPORTANT (SEO et qualite)

5. **Ajouter les articles blog pour ES/IT/DE/PT-BR** : Creer `posts-es.json`, `posts-it.json`, `posts-de.json`, `posts-pt-BR.json` avec les traductions des 31 articles.

6. **Traduire les landmarks et itineraire** de Croisiere.tsx : Deplacer les textes dans les fichiers messages par namespace `croisiere`.

7. **Corriger NotFound.tsx** : Utiliser `useTranslations` et `Link` de next-intl.

8. **Traduire le JSON-LD** : FAQ, LocalBusiness, Breadcrumbs - important pour le SEO multilingue.

9. **Traduire les metadata par defaut** dans `layout.tsx` en utilisant `getTranslations`.

### Priorite 3 - AMELIORATION (long terme)

10. **Slugs traduits pour le blog** : Implementer des slugs en anglais pour les articles EN (ex: `cruise-in-paris` au lieu de `croisiere-a-paris`).

11. **Localized pathnames** : Configurer les pathnames traduits dans next-intl routing (`/en/cruise`, `/de/rundfahrt`).

12. **Factoriser `formatDate`** : Creer un utilitaire partage dans `src/lib/` ou utiliser `useFormatter()`.

13. **Ajouter un namespace FAQ** dans les messages pour externaliser les Q&A.

14. **Ajouter des tests i18n** : Verifier que chaque page s'affiche correctement dans les 6 langues.

---

## Resume des fichiers a modifier

| Fichier | Action |
|---|---|
| `messages/pt-BR.json` | Corriger les accents manquants |
| `src/views/FAQ.tsx` | Externaliser les 10 Q&A vers les messages |
| `src/views/CGV.tsx` | Externaliser le contenu ou creer des fichiers par langue |
| `src/views/MentionsLegales.tsx` | Externaliser le contenu |
| `src/views/Confidentialite.tsx` | Externaliser le contenu |
| `src/views/Croisiere.tsx` | Externaliser landmarks et itineraire vers messages |
| `src/views/NotFound.tsx` | Utiliser next-intl |
| `src/views/Actualites.tsx` | Corriger formatDate, ajouter support 6 langues blog |
| `src/views/ArticleDetail.tsx` | Corriger formatDate |
| `src/data/landings/*.ts` (17 fichiers) | Implementer systeme de traduction |
| `src/app/[locale]/(landing)/[slug]/page.tsx` | Traduire breadcrumbs |
| `src/app/[locale]/faq/page.tsx` | Traduire JSON-LD |
| `src/app/layout.tsx` | Traduire metadata et JSON-LD par defaut |

---

*Rapport genere le 2026-02-14 par Claude Opus 4.6*
